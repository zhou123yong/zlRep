/*from tccdn minify at 2017-7-3 9:02:29,file：/cn/public/jquery/dialog2/0.0.1/dialog2.js*/
!function(f,g,h,i){function j(a,b){var k={className:"",title:"",html:"",open:!1,showCloseBtn:!0,width:600,zIndex:1050,showBg:!0,bgClose:!0,btns:null,initFn:null,beforeOpen:null,afterOpen:null,beforeClose:null,afterClose:null};f.extend(this,k,b),this.elem=a,this.hasSetHtml=!1,this.isIe=g.navigator.userAgent.toLocaleLowerCase().indexOf("msie")>-1,this.build()}f[i]=f.fn[i]=function(b){return new j(this,b)},j.prototype={build:function(){this.wrap=f('<div class="dialog2-wrap"><div class="dialog2-content"></div></div>');var a=f("body").append(this.wrap);this.showBg===!0&&(this.bg=f('<div class="dialog2-bg"></div>'),a.append(this.bg)),this.content=f(".dialog2-content",this.wrap),this.className&&"string"==typeof this.className&&(this.wrap.addClass(this.className),this.bg&&this.bg.addClass(this.className+"-bg")),"number"==typeof this.width&&600!=this.width&&this.content.css("width",this.width),"number"==typeof this.zIndex&&1050!=this.zIndex&&(this.wrap.css("z-index",this.zIndex),this.bg&&this.bg.css("z-index",this.zIndex-1)),this.title?(this.content.append('<div class="dialog2-header"><div class="dialog2-title"></div></div>'),f(".dialog2-title",this.content).html(this.title),this.showCloseBtn===!0&&(this.closeBtn=f('<a href="javascript:;" class="dialog2-close"></a>'),f(".dialog2-header",this.content).prepend(this.closeBtn))):this.showCloseBtn===!0&&(this.content.append('<div class="dialog2-head"><a href="javascript:;" class="dialog2-close"></a></div>'),this.closeBtn=f(".dialog2-close",this.content)),this.content.append('<div class="dialog2-body"></div>'),this.body=f(".dialog2-body",this.content),this.open===!0&&this.show(),this.eventInt(),"function"==typeof this.initFn&&this.initFn()},setHtml:function(a,e){var k=typeof a;if("string"===k){this.body.html(a),!this.hasSetHtml&&(this.hasSetHtml=!0)}else{if("object"!==k){throw new Error("弹窗内容设置错误")}if(!(1===a.nodeType&&"string"==typeof a.nodeName||a instanceof f)){throw new Error("弹窗内容设置错误")}this.placeholder=f('<div style="width: 0; height: 0; display: none; visibility: hidden;"></div>'),this.tempHtml=f(a).replaceWith(this.placeholder),this.body.html(a),!this.hasSetHtml&&(this.hasSetHtml=!0)}0==this.btns||f(".dialog2-footer",this.content)[0]||this.buildFooter(),e&&this.setPos()},setPos:function(){var a=this.content,b=a.outerWidth(),k=a.outerHeight(),l=this.wrap.css("display"),m=f(g).outerHeight();"none"===l&&(this.wrap.css({visibility:"hidden",display:"block"}),k=a.outerHeight(),this.wrap.css({visibility:"",display:"none"})),this.content.css({"margin-left":-b/2}),m>k?this.content.css({"margin-top":-k/2,"margin-bottom":0,top:"50%"}):this.content.css({"margin-top":30,"margin-bottom":30,top:0})},buildFooter:function(){if(this.btns!==!1){var a=this,c=h.createDocumentFragment(),l=h.createElement("a");if(this.content.append('<div class="dialog2-footer"></div>'),this.footer=f(".dialog2-footer",this.content),this.btns&&this.btns instanceof Object&&!(this.btns instanceof Array)){for(var m in this.btns){var n=l.cloneNode(),o=this.btns[m],p=m.split("#"),q=p[0],r=p[1];n.href="javascript:;",n.innerHTML=q,r&&(n.className=r),"function"==typeof o&&!function(b,e){f(b).click(function(){var d=e.call(a);d!==!1&&a.hide()})}(n,o),c.appendChild(n)}}else{n=n=l.cloneNode(),n.href="javascript:;",n.innerHTML="确定",f(n).click(function(){a.hide()}),c.appendChild(n)}this.footer.html(c)}},show:function(){if(this.setHtml(this.html,!this.hasSetHtml),"function"==typeof this.beforeOpen&&this.beforeOpen(),f("body").addClass("dialog2-open"),this.isIe){this.wrap.addClass("dialog2-show").show(),this.bg&&this.bg.addClass("dialog2-show").show()}else{var a=this;this.wrap.show(),this.bg&&this.bg.show(),setTimeout(function(){a.wrap.addClass("dialog2-show"),a.bg&&a.bg.addClass("dialog2-show")},1)}"function"==typeof this.afterOpen&&this.afterOpen()},hide:function(){var a=this;"function"==typeof this.beforeClose&&this.beforeClose(),this.wrap.removeClass("dialog2-show"),this.bg&&this.bg.removeClass("dialog2-show"),this.isIe?(a.wrap.hide(),a.bg&&a.bg.hide(),f("body").removeClass("dialog2-open"),a.placeholder&&a.placeholder.replaceWith(a.tempHtml)):setTimeout(function(){a.wrap.hide(),a.bg&&a.bg.hide(),f("body").removeClass("dialog2-open"),a.placeholder&&a.placeholder.replaceWith(a.tempHtml)},200),"function"==typeof this.afterClose&&this.afterClose()},eventInt:function(){var b=this;this.elem.on&&this.elem.on("click",function(){b.show()}),this.closeBtn&&this.closeBtn.on("click",function(){b.hide()}),this.bgClose&&this.wrap.on("click",function(a){var d=a.target;d===b.wrap[0]&&b.hide()})}},f.alert=function(a,e){if($(".dialog2-alert-bg.dialog2-show").css("display")=="block"){return;};e=e instanceof Object?e:{};var k={title:"提示信息",open:!0,html:a,className:"dialog2-alert"};f.extend(k,e),f.dialog2(k)},f.confirm=function(a,k){if($(".dialog2-confirm-bg.dialog2-show").css("display")=="block"){return;};k=k instanceof Object?k:{};var l="function"==typeof k.okFn?k.okFn:function(){},m="function"==typeof k.cancelFn?k.cancelFn:function(){},n={title:"提示信息",open:!0,html:a,className:"dialog2-confirm",btns:{"确定":l,"取消#default":m}};f.extend(n,k),f.dialog2(n)}}(jQuery,window,document,"dialog2");